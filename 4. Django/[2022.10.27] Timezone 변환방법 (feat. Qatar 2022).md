# Timezone 변환방법 (feat. Qatar 2022)



### 카타르 월드컵 경기 시간을 우리나라 시간으로 변환하기

- world cup API (https://statorium.com/fifa-world-cup-2022-api)에서 제공되는 경기 시간 정보가 당연히 카타르 현지 시간인줄 알고 코드를 작성했지만, UTC 라는 것을 뒤늦게 깨달음.
- 카타르 시간에서 한국시간으로 변경하는 코드를 UTC에서 한국시간으로 변경하는 것으로 수정.

```python
from datetime import datetime
import pytz

# 경기 날짜와 시간 추출
gd = "2022-11-20"   # gamedate
gt = "16:00"        # gametime

# 경기 시간을 datetime 포맷으로 변환
match_dt = datetime(int(gd[:4]), int(gd[5:7]), int(gd[8:10]), int(gt[:2]), int(gt[3:5]), 0)

print(match_dt)     # 2022-11-20 16:00:00

# UTC와 우리나라 timezone 설정
# QA_time = pytz.timezone("Asia/Qatar")	# 카타르 timezone
UTC_time = pytz.utc
KR_time = pytz.timezone("Asia/Seoul")

# 시간 변환
# QA_match = QA_time.localize(match_dt)
UTC_match = UTC_time.localize(match_dt)		# 경기 시간을 UTC로 설정
KR_match = UTC_match.astimezone(KR_time)	# UTC에서 한국시간으로 변경

print(KR_match)     # 2022-11-21 01:00:00+09:00

# 변환된 datetime을 날짜와 시간 string으로 변환 후 저장
gd_kr = str(KR_match)[:10]
gt_kr = str(KR_match)[11:16]

print(gd_kr)        # 2022-11-21
print(gt_kr)        # 01:00
```

 

- 참고자료: https://stackoverflow.com/questions/31977563/how-do-you-convert-a-datetime-timestamp-from-one-timezone-to-another-timezone/67354610
