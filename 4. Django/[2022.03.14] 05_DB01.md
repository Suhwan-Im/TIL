# 2022.03.14 (월)

## DB 01

- 데이터베이스는 체계화된 데이터의 모임
- 몇 개의 자료파일을 조직적으로 통합하여 자료항목의 중복을 없애고 주료를 구조화하여 기억시켜 놓은 자료의 집합체
- DB로 얻는 장점들
  - 중복 최소화 / 무결성 (정확한 정보를 보장) / 일관성 / 독립성 (물리적-논리적) / 표준화 / 보안 유지



### Database

#### RDB (Relational Database, 관계형 데이터베이스)

- 키(key)와 값(value)들의 간단한 관계(relation)를 표(table) 형태로 정리한 데이터베이스
- 스키마(schema): 데이터베이스에서 자료의 구조, 표현방법, 관계 등 전반적인 명세를 기술한 것
- 테이블(table): 열(컬럼/필드)과 행(레코드/값)의 모델을 사용해 조직된 데이터 요소들의 집합
- 열(column): 각 열에는 고유한 데이터 형식이 지정됨 (세로줄)
- 행(row): 실제 데이터가 저장되는 형태 (가로줄)
- 기본키(primary key): 각 행(레코드)의 고유 값 (반드시 설정해야 하며, DB 관리 및 관계 설정 시 주요하게 활용 됨)

#### RDBMS (Relational Database Management System, 관계형 DB 관리 시스템)

- 관계형 모델을 기반으로 하는 데이터베이스 관리시스템을 의미 (MySQL, SQLite, ORACLE, MS SQL 등..)
- SQLite: 서버 형태가 아닌 파일 형식으로 응용 프로그램에 넣어서 사용하는 비교적 가벼운 DB
  - SQLite Data Type
    - NULL (=None)
      INTEGER
      REAL (=float)
      TEXT
      BLOB (입력된 그대로 정확히 저장되는 데이터)

  - Type Affinity
    - INTEGER / TEXT / BLOB / REAL / NUMERIC

  - rowid: 따로 Primary Key 속성의 컬럼을 작성하지 않으면, 자동으로 PK 옵션을 가진 rowid를 정의해 줌




### SQL (Structured Query Language)

- RDBMS의 데이터 관리를 위해 설계된 특수 목적의 프로그래밍 언어
- SQL 분류
  - DDL (Data Definition Language) - 데이터 정의 언어 (CREATE, DROP. ALTER ...)
  - DML (Data Manipulation Language) - 데이터 조작 언어 (INSERT, SELECT, UPDATE, DELETE ...)
    - INSERT: 새로운 데이터 삽입
      `INSERT INTO <테이블 이름> (<컬럼1>, <컬럼2>, ...) VALUES (<값1>, <값2>, ...);`
      `INSERT INTO <테이블 이름> VALUES (<값1>, <값2>, ...);`
      `INSERT INTO <테이블 이름> VALUES (<값1-1>, <값1-2>), (<값2-1>, <값2-2>), ...;`
    - SELECT: 저장되어 있는 데이터 조회
      `SELECT * FROM <테이블 이름>;`
      `SELECT <컬럼1>, <컬럼2> FROM <테이블 이름>;`
    - UPDATE: 저장되어 있는 데이터 갱신
    - DELETE: 저장되어 있는 데이터 삭제
      `DELETE FROM <테이블 이름> WHERE <조건>;`
  - DCL (Data Control Language) - 데이터 제어 언어 (GRANT, REVOKE ...)

#### 테이블 생성 및 삭제

- CREATE: DB에서 새로운 테이블 생성

  ```sqlite
  CREATE TABLE <테이블 이름> (
      id INTEGER PRIMARY KEY,		-- PK는 'INTEGER'만 사용 가능
      name TEXT NOT NULL,			-- NOT NULL은 데이터 입력시 빈칸 불가
      age INT NOT NULL,
      address TEXT				-- NOT NULL이 아니면 데이터 입력시 빈칸으로 입력 가능
  );
  ```

- DROP: DB에서 테이블 삭제 (`DROP TABLE <테이블 이름>;`)

#### SELECT (READ)

- LIMIT: 쿼리에서 반환되는 행 수를 제한
  `SELECT <컬럽1>, <컬럼2> FROM <테이블 이름> LIMIT <숫자>;`  -- 숫자 개수만큼 반환
  `SELECT <컬럽1>, <컬럼2> FROM <테이블 이름> LIMIT <숫자> OFFSET <숫자>;`  -- offset 숫자 이후를 반환
- WHERE: 쿼리에서 반환된 행에 대한 특정 검색 조건을 지정
  `SELECT <컬럽1>, <컬럼2> FROM <테이블 이름> WHERE <조건>;`  -- 조건 예: `WHERE address='서울';`
- DISTINCT: 조회 결과에서 중복 행을 제거 (DISTINCT절은 SELECT 키워드 바로 뒤에 작성)
  `SELECT DISTINCT <컬럽1> FROM <테이블 이름>;`

#### DELETE

- AUTOINCREMENT: 사용된 값이나 이전에 삭제된 행의 값을 재사용 하는 것을 방지
  테이블 생성 단계에서 설정해야 함 (`id INTEGER PRIMARY KEY AUTOINCREMENT,`)

#### UPDATE

- SET: 테이블의 각 열에 대해 새로운 값을 설정
  `UPDATE <테이블 이름> SET <컬럼1>=<값1>, <컬럼2>=<값2>, ... WHERE <조건>;`

#### WHERE

- 
